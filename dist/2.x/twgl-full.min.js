/*!
 * @license twgl.js 2.6.0 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
 * Available via the MIT license.
 * see: http://github.com/greggman/twgl.js for details
 */
!function(r,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.twgl=e():r.twgl=e()}(this,function(){return function(r){function e(n){if(t[n])return t[n].exports;var i=t[n]={exports:{},id:n,loaded:!1};return r[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var t={};return e.m=r,e.c=t,e.p="",e(0)}([function(r,e,t){var n,i;n=[t(1),t(10),t(11),t(12)],i=function(r,e,t,n){"use strict";return r.m4=e,r.v3=t,r.primitives=n,r}.apply(e,n),!(void 0!==i&&(r.exports=i))},function(r,e,t){var n,i;n=[t(2),t(5),t(7),t(6),t(8),t(3),t(9),t(4)],i=function(r,e,t,n,i,a,o,u){"use strict";function f(e){u.copyExistingProperties(e,E),r.setDefaults_(e),i.setDefaults_(e)}function s(r){if(r&&E.enableVertexArrayObjects&&u.isWebGL1(r)){var e=r.getExtension("OES_vertex_array_object");e&&(r.createVertexArray=function(){return e.createVertexArrayOES()},r.deleteVertexArray=function(r){e.deleteVertexArrayOES(r)},r.isVertexArray=function(r){return e.isVertexArrayOES(r)},r.bindVertexArray=function(r){e.bindVertexArrayOES(r)},r.VERTEX_ARRAY_BINDING=e.VERTEX_ARRAY_BINDING_OES)}}function c(r,e){for(var t=["webgl","experimental-webgl"],n=null,i=0;i<t.length;++i){try{n=r.getContext(t[i],e)}catch(r){}if(n)break}return n}function l(r,e){var t=c(r,e);return s(t),t}function p(r,e){for(var t=["webgl2","experimental-webgl2","webgl","experimental-webgl"],n=null,i=0;i<t.length;++i){try{n=r.getContext(t[i],e)}catch(r){}if(n)break}return n}function m(r,e){var t=p(r,e);return s(t),t}function v(r,e){e=e||1,e=Math.max(1,e);var t=r.clientWidth*e|0,n=r.clientHeight*e|0;return(r.width!==t||r.height!==n)&&(r.width=t,r.height=n,!0)}function d(r){return"_"!==r[r.length-1]}function y(r,e){return Object.keys(r).filter(d).forEach(function(t){e[t]=r[t]}),e}var E={enableVertexArrayObjects:!0},h={getContext:m,getWebGLContext:l,isWebGL1:u.isWebGL1,isWebGL2:u.isWebGL2,resizeCanvasToDisplaySize:v,setDefaults:f},A={attributes:r,draw:e,framebuffers:t,programs:n,textures:i,typedArrays:a,vertexArrays:o};return Object.keys(A).forEach(function(r){var e=A[r];y(e,h),h[r]=y(e,{})}),h}.apply(e,n),!(void 0!==i&&(r.exports=i))},function(r,e,t){var n,i;n=[t(3),t(4)],i=function(r,e){"use strict";function t(r){E.attribPrefix=r}function n(r){e.copyExistingProperties(r,E)}function i(r,e,t,n,i){r.bindBuffer(e,t),r.bufferData(e,n,i||r.STATIC_DRAW)}function a(r,e,t,n){if(e instanceof WebGLBuffer)return e;t=t||r.ARRAY_BUFFER;var a=r.createBuffer();return i(r,t,a,e,n),a}function o(r){return"indices"===r}function u(r){return r instanceof Int8Array||r instanceof Uint8Array}function f(r){return r.length?r:r.data}function s(r,e){var t;if(t=h.test(r)?2:A.test(r)?4:3,e%t>0)throw"Can not guess numComponents for attribute '"+r+"'. Tried "+t+" but "+e+" values is not evenly divisible by "+t+". You should specify it.";return t}function c(r,e){return r.numComponents||r.size||s(e,f(r).length)}function l(e,t){if(r.isArrayBuffer(e))return e;if(r.isArrayBuffer(e.data))return e.data;Array.isArray(e)&&(e={data:e});var n=e.type;return n||(n=o(t)?Uint16Array:Float32Array),new n(e.data)}function p(e,t){var n={};return Object.keys(t).forEach(function(i){if(!o(i)){var f=t[i],s=f.attrib||f.name||f.attribName||E.attribPrefix+i,p=l(f,i);n[s]={buffer:a(e,p,void 0,f.drawType),numComponents:c(f,i),type:r.getGLTypeForTypedArray(p),normalize:void 0!==f.normalize?f.normalize:u(p),stride:f.stride||0,offset:f.offset||0,drawType:f.drawType}}}),n}function m(r,e,t,n){t=l(t),n?(r.bindBuffer(r.ARRAY_BUFFER,e.buffer),r.bufferSubData(r.ARRAY_BUFFER,n,t)):i(r,r.ARRAY_BUFFER,e.buffer,t,e.drawType)}function v(e,t){var n={attribs:p(e,t)},i=t.indices;return i?(i=l(i,"indices"),n.indices=a(e,i,e.ELEMENT_ARRAY_BUFFER),n.numElements=i.length,n.elementType=r.getGLTypeForTypedArray(i)):n.numElements=T(t),n}function d(r,e,t){var n="indices"===t?r.ELEMENT_ARRAY_BUFFER:r.ARRAY_BUFFER,i=l(e,t);return a(r,i,n)}function y(e,t){var n={};return Object.keys(t).forEach(function(r){n[r]=d(e,t[r],r)}),t.indices?(n.numElements=t.indices.length,n.elementType=r.getGLTypeForTypedArray(l(t.indices),"indices")):n.numElements=T(t),n}var E={attribPrefix:""},h=/coord|texture/i,A=/color|colour/i,T=function(){var r=["position","positions","a_position"];return function(e){for(var t,n=0;n<r.length&&(t=r[n],!(t in e));++n);n===r.length&&(t=Object.keys(e)[0]);var i=e[t],a=f(i).length,o=c(i,t),u=a/o;if(a%o>0)throw"numComponents "+o+" not correct for length "+a;return u}}();return{createAttribsFromArrays:p,createBuffersFromArrays:y,createBufferFromArray:d,createBufferFromTypedArray:a,createBufferInfoFromArrays:v,setAttribInfoBufferFromArray:m,setAttributePrefix:t,setDefaults_:n,getNumComponents_:c,getArray_:f}}.apply(e,n),!(void 0!==i&&(r.exports=i))},function(r,e,t){var n,i;n=[],i=function(){"use strict";function r(r){if(r instanceof Int8Array)return n;if(r instanceof Uint8Array)return i;if(r instanceof Uint8ClampedArray)return i;if(r instanceof Int16Array)return a;if(r instanceof Uint16Array)return o;if(r instanceof Int32Array)return u;if(r instanceof Uint32Array)return f;if(r instanceof Float32Array)return s;throw"unsupported typed array type"}function e(r){switch(r){case n:return Int8Array;case i:return Uint8Array;case a:return Int16Array;case o:return Uint16Array;case u:return Int32Array;case f:return Uint32Array;case s:return Float32Array;default:throw"unknown gl type"}}function t(r){return r&&r.buffer&&r.buffer instanceof ArrayBuffer}var n=5120,i=5121,a=5122,o=5123,u=5124,f=5125,s=5126;return{getGLTypeForTypedArray:r,getTypedArrayTypeForGLType:e,isArrayBuffer:t}}.apply(e,n),!(void 0!==i&&(r.exports=i))},function(r,e,t){var n,i;n=[],i=function(){"use strict";function r(r){var e={};return Object.keys(r).forEach(function(t){e[t]=r[t]}),e}function e(r,e,t){r.forEach(function(r){var n=e[r];void 0!==n&&(t[r]=n)})}function t(r,e){Object.keys(e).forEach(function(t){e.hasOwnProperty(t)&&r.hasOwnProperty(t)&&(e[t]=r[t])})}function n(r){return parseFloat(r.getParameter(r.VERSION).substr(6))}function i(r){return 0===r.getParameter(r.VERSION).indexOf("WebGL 2.0")}function a(r){var e=n(r);return e<=1&&e>0}var o=window.console&&window.console.error&&"function"==typeof window.console.error?window.console.error.bind(window.console):function(){},u=window.console&&window.console.warn&&"function"==typeof window.console.warn?window.console.warn.bind(window.console):function(){};return{copyExistingProperties:t,copyNamedProperties:e,shallowCopy:r,isWebGL1:a,isWebGL2:i,error:o,warn:u}}.apply(e,n),!(void 0!==i&&(r.exports=i))},function(r,e,t){var n,i;n=[t(6)],i=function(r){"use strict";function e(r,e,t,n,i){t=void 0===t?r.TRIANGLES:t;var a=e.indices,o=e.elementType,u=void 0===n?e.numElements:n;i=void 0===i?0:i,o||a?r.drawElements(t,u,void 0===o?r.UNSIGNED_SHORT:e.elementType,i):r.drawArrays(t,i,u)}function t(t,n){var i=null,a=null;n.forEach(function(n){if(n.active!==!1){var o=n.programInfo,u=n.vertexArrayInfo||n.bufferInfo,f=!1,s=void 0===n.type?t.TRIANGLES:n.type;o!==i&&(i=o,t.useProgram(o.program),f=!0),(f||u!==a)&&(a&&a.vertexArrayObject&&!u.vertexArrayObject&&t.bindVertexArray(null),a=u,r.setBuffersAndAttributes(t,o,u)),r.setUniforms(o,n.uniforms),e(t,u,s,n.count,n.offset)}}),a.vertexArrayObject&&t.bindVertexArray(null)}return{drawBufferInfo:e,drawObjectList:t}}.apply(e,n),!(void 0!==i&&(r.exports=i))},function(r,e,t){var n,i;n=[t(4)],i=function(r){"use strict";function e(r,e){return kr[e].bindPoint}function t(r,e){return function(t){r.uniform1f(e,t)}}function n(r,e){return function(t){r.uniform1fv(e,t)}}function i(r,e){return function(t){r.uniform2fv(e,t)}}function a(r,e){return function(t){r.uniform3fv(e,t)}}function o(r,e){return function(t){r.uniform4fv(e,t)}}function u(r,e){return function(t){r.uniform1i(e,t)}}function f(r,e){return function(t){r.uniform1iv(e,t)}}function s(r,e){return function(t){r.uniform2iv(e,t)}}function c(r,e){return function(t){r.uniform3iv(e,t)}}function l(r,e){return function(t){r.uniform4iv(e,t)}}function p(r,e){return function(t){r.uniform1ui(e,t)}}function m(r,e){return function(t){r.uniform1uiv(e,t)}}function v(r,e){return function(t){r.uniform2uiv(e,t)}}function d(r,e){return function(t){r.uniform3uiv(e,t)}}function y(r,e){return function(t){r.uniform4uiv(e,t)}}function E(r,e){return function(t){r.uniformMatrix2fv(e,!1,t)}}function h(r,e){return function(t){r.uniformMatrix3fv(e,!1,t)}}function A(r,e){return function(t){r.uniformMatrix4fv(e,!1,t)}}function T(r,e){return function(t){r.uniformMatrix2x3fv(e,!1,t)}}function b(r,e){return function(t){r.uniformMatrix3x2fv(e,!1,t)}}function g(r,e){return function(t){r.uniformMatrix2x4fv(e,!1,t)}}function _(r,e){return function(t){r.uniformMatrix4x2fv(e,!1,t)}}function x(r,e){return function(t){r.uniformMatrix3x4fv(e,!1,t)}}function R(r,e){return function(t){r.uniformMatrix4x3fv(e,!1,t)}}function w(r,t,n,i){var a=e(r,t);return function(e){r.uniform1i(i,n),r.activeTexture(r.TEXTURE0+n),r.bindTexture(a,e)}}function U(r,t,n,i,a){for(var o=e(r,t),u=new Int32Array(a),f=0;f<a;++f)u[f]=n+f;return function(e){r.uniform1iv(i,u),e.forEach(function(e,t){r.activeTexture(r.TEXTURE0+u[t]),r.bindTexture(o,e)})}}function P(r,e){return function(t){r.bindBuffer(r.ARRAY_BUFFER,t.buffer),r.enableVertexAttribArray(e),r.vertexAttribPointer(e,t.numComponents||t.size,t.type||r.FLOAT,t.normalize||!1,t.stride||0,t.offset||0)}}function B(r,e){return function(t){r.bindBuffer(r.ARRAY_BUFFER,t.buffer),r.enableVertexAttribArray(e),r.vertexAttribIPointer(e,t.numComponents||t.size,t.type||r.INT,t.stride||0,t.offset||0)}}function I(r,e,t){var n=t.size,i=t.count;return function(t){r.bindBuffer(r.ARRAY_BUFFER,t.buffer);for(var a=t.size||t.numComponents||n,o=a/i,u=t.type||r.FLOAT,f=kr[u],s=f.size*a,c=t.normalize||!1,l=t.offset||0,p=s/i,m=0;m<i;++m)r.enableVertexAttribArray(e+m),r.vertexAttribPointer(e+m,o,u,c,s,l+p*m)}}function F(r,e){return e=e||0,++e,r.split("\n").map(function(r,t){return t+e+": "+r}).join("\n")}function S(r,e,t,n){var i=n||Q,a=r.createShader(t),o=0;Wr.test(e)&&(o=1,e=e.replace(Wr,"")),r.shaderSource(a,e),r.compileShader(a);var u=r.getShaderParameter(a,r.COMPILE_STATUS);if(!u){var f=r.getShaderInfoLog(a);return i(F(e,o)+"\n*** Error compiling shader: "+f),r.deleteShader(a),null}return a}function M(r,e,t){if("function"==typeof e&&(t=e,e=void 0),"function"==typeof r)t=r,r=void 0;else if(r&&!Array.isArray(r)){if(r.errorCallback)return r;var n=r;t=n.errorCallback,r=n.attribLocations}var i={errorCallback:t||Q};if(r){var a={};Array.isArray(r)?r.forEach(function(r,t){a[r]=e?e[t]:t}):a=r,i.attribLocations=a}return i}function C(r,e,t,n,i){var a=M(t,n,i),o=r.createProgram();e.forEach(function(e){r.attachShader(o,e)}),a.attribLocations&&Object.keys(a.attribLocations).forEach(function(e){r.bindAttribLocation(o,a.attribLocations[e],e)}),r.linkProgram(o);var u=r.getProgramParameter(o,r.LINK_STATUS);if(!u){var f=r.getProgramInfoLog(o);return a.errorCallback("Error in program linking:"+f),r.deleteProgram(o),null}return o}function O(r,e,t,n){var i,a="",o=document.getElementById(e);if(!o)throw"*** Error: unknown script element"+e;if(a=o.text,!t)if("x-shader/x-vertex"===o.type)i=r.VERTEX_SHADER;else if("x-shader/x-fragment"===o.type)i=r.FRAGMENT_SHADER;else if(i!==r.VERTEX_SHADER&&i!==r.FRAGMENT_SHADER)throw"*** Error: unknown shader type";return S(r,a,t?t:i,n)}function L(r,e,t,n,i){for(var a=M(t,n,i),o=[],u=0;u<e.length;++u){var f=O(r,e[u],r[jr[u]],a.errorCallback);if(!f)return null;o.push(f)}return C(r,o,a)}function N(r,e,t,n,i){for(var a=M(t,n,i),o=[],u=0;u<e.length;++u){var f=S(r,e[u],r[jr[u]],a.errorCallback);if(!f)return null;o.push(f)}return C(r,o,a)}function D(r,e){function t(e,t){var i=r.getUniformLocation(e,t.name),a=t.size>1&&"[0]"===t.name.substr(-3),o=t.type,u=kr[o];if(!u)throw"unknown type: 0x"+o.toString(16);if(u.bindPoint){var f=n;return n+=t.size,a?u.arraySetter(r,o,f,i,t.size):u.setter(r,o,f,i,t.size)}return u.arraySetter&&a?u.arraySetter(r,i):u.setter(r,i)}for(var n=0,i={},a=r.getProgramParameter(e,r.ACTIVE_UNIFORMS),o=0;o<a;++o){var u=r.getActiveUniform(e,o);if(!u)break;var f=u.name;"[0]"===f.substr(-3)&&(f=f.substr(0,f.length-3));var s=t(e,u);i[f]=s}return i}function z(r,e){for(var t=r.getProgramParameter(e,r.ACTIVE_UNIFORMS),n=[],i=[],a=0;a<t;++a){i.push(a),n.push({});var o=r.getActiveUniform(e,a);if(!o)break;n[a].name=o.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(t){var a=t[0],o=t[1];r.getActiveUniforms(e,i,r[a]).forEach(function(r,e){n[e][o]=r})});var u={},f=r.getProgramParameter(e,r.ACTIVE_UNIFORM_BLOCKS);for(a=0;a<f;++a){var s=r.getActiveUniformBlockName(e,a),c={index:a,usedByVertexShader:r.getActiveUniformBlockParameter(e,a,r.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER),usedByFragmentShader:r.getActiveUniformBlockParameter(e,a,r.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER),size:r.getActiveUniformBlockParameter(e,a,r.UNIFORM_BLOCK_DATA_SIZE),uniformIndices:r.getActiveUniformBlockParameter(e,a,r.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES)};c.used=c.usedByVertexSahder||c.usedByFragmentShader,u[s]=c}return{blockSpecs:u,uniformData:n}}function X(r,e,t,n){var i=t.blockSpecs,a=t.uniformData,o=i[n];if(!o)return $("no uniform block object named:",n),{name:n,uniforms:{}};var u=new ArrayBuffer(o.size),f=r.createBuffer(),s=o.index;r.bindBuffer(r.UNIFORM_BUFFER,f),r.uniformBlockBinding(e,o.index,s);var c=n+".";Hr.test(c)&&(c=c.replace(Hr,"."));var l={};return o.uniformIndices.forEach(function(r){var e=a[r],t=kr[e.type],n=t.Type,i=e.size*t.size,o=e.name;o.substr(0,c.length)===c&&(o=o.substr(c.length)),l[o]=new n(u,e.offset,i/n.BYTES_PER_ELEMENT)}),{name:n,array:u,asFloat:new Float32Array(u),buffer:f,uniforms:l}}function G(r,e,t){return X(r,e.program,e.uniformBlockSpec,t)}function V(r,e,t){var n=e.uniformBlockSpec||e,i=n.blockSpecs[t.name];if(i){var a=i.index;return r.bindBufferRange(r.UNIFORM_BUFFER,a,t.buffer,t.offset||0,t.array.byteLength),!0}return!1}function k(r,e,t){V(r,e,t)&&r.bufferData(r.UNIFORM_BUFFER,t.array,r.DYNAMIC_DRAW)}function Y(r,e){var t=r.uniforms;for(var n in e){var i=t[n];if(i){var a=e[n];a.length?i.set(a):i[0]=a}}}function W(r,e){for(var t=r.uniformSetters||r,n=arguments.length,i=1;i<n;++i){var a=arguments[i];if(Array.isArray(a))for(var o=a.length,u=0;u<o;++u)W(t,a[u]);else for(var f in a){var s=t[f];s&&s(a[f])}}}function j(r,e){for(var t={},n=r.getProgramParameter(e,r.ACTIVE_ATTRIBUTES),i=0;i<n;++i){var a=r.getActiveAttrib(e,i);if(!a)break;var o=r.getAttribLocation(e,a.name),u=Yr[a.type];t[a.name]=u.setter(r,o,u)}return t}function H(r,e){for(var t in e){var n=r[t];n&&n(e[t])}}function K(r,e,t){t.vertexArrayObject?r.bindVertexArray(t.vertexArrayObject):(H(e.attribSetters||e,t.attribs),t.indices&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.indices))}function q(e,t){var n=D(e,t),i=j(e,t),a={program:t,uniformSetters:n,attribSetters:i};return r.isWebGL2(e)&&(a.uniformBlockSpec=z(e,t)),a}function Z(r,e,t,n,i){var a=M(t,n,i),o=!0;if(e=e.map(function(r){if(r.indexOf("\n")<0){var e=document.getElementById(r);e?r=e.text:(a.errorCallback("no element with id: "+r),o=!1)}return r}),!o)return null;var u=N(r,e,a);return u?q(r,u):null}var Q=r.error,$=r.warn,J=5126,rr=35664,er=35665,tr=35666,nr=5124,ir=35667,ar=35668,or=35669,ur=35670,fr=35671,sr=35672,cr=35673,lr=35674,pr=35675,mr=35676,vr=35678,dr=35680,yr=35679,Er=35682,hr=35685,Ar=35686,Tr=35687,br=35688,gr=35689,_r=35690,xr=36289,Rr=36292,wr=36293,Ur=5125,Pr=36294,Br=36295,Ir=36296,Fr=36298,Sr=36299,Mr=36300,Cr=36303,Or=36306,Lr=36307,Nr=36308,Dr=36311,zr=3553,Xr=34067,Gr=32879,Vr=35866,kr={};kr[J]={Type:Float32Array,size:4,setter:t,arraySetter:n},kr[rr]={Type:Float32Array,size:8,setter:i},kr[er]={Type:Float32Array,size:12,setter:a},kr[tr]={Type:Float32Array,size:16,setter:o},kr[nr]={Type:Int32Array,size:4,setter:u,arraySetter:f},kr[ir]={Type:Int32Array,size:8,setter:s},kr[ar]={Type:Int32Array,size:12,setter:c},kr[or]={Type:Int32Array,size:16,setter:l},kr[Ur]={Type:Uint32Array,size:4,setter:p,arraySetter:m},kr[Pr]={Type:Uint32Array,size:8,setter:v},kr[Br]={Type:Uint32Array,size:12,setter:d},kr[Ir]={Type:Uint32Array,size:16,setter:y},kr[ur]={Type:Uint32Array,size:4,setter:u,arraySetter:f},kr[fr]={Type:Uint32Array,size:8,setter:s},kr[sr]={Type:Uint32Array,size:12,setter:c},kr[cr]={Type:Uint32Array,size:16,setter:l},kr[lr]={Type:Float32Array,size:16,setter:E},kr[pr]={Type:Float32Array,size:36,setter:h},kr[mr]={Type:Float32Array,size:64,setter:A},kr[hr]={Type:Float32Array,size:24,setter:T},kr[Ar]={Type:Float32Array,size:32,setter:g},kr[Tr]={Type:Float32Array,size:24,setter:b},kr[br]={Type:Float32Array,size:48,setter:x},kr[gr]={Type:Float32Array,size:32,setter:_},kr[_r]={Type:Float32Array,size:48,setter:R},kr[vr]={Type:null,size:0,setter:w,arraySetter:U,bindPoint:zr},kr[dr]={Type:null,size:0,setter:w,arraySetter:U,bindPoint:Xr},kr[yr]={Type:null,size:0,setter:w,arraySetter:U,bindPoint:Gr},kr[Er]={Type:null,size:0,setter:w,arraySetter:U,bindPoint:zr},kr[xr]={Type:null,size:0,setter:w,arraySetter:U,bindPoint:Vr},kr[Rr]={Type:null,size:0,setter:w,arraySetter:U,bindPoint:Vr},kr[wr]={Type:null,size:0,setter:w,arraySetter:U,bindPoint:Xr},kr[Fr]={Type:null,size:0,setter:w,arraySetter:U,bindPoint:zr},kr[Sr]={Type:null,size:0,setter:w,arraySetter:U,bindPoint:Gr},kr[Mr]={Type:null,size:0,setter:w,arraySetter:U,bindPoint:Xr},kr[Cr]={Type:null,size:0,setter:w,arraySetter:U,bindPoint:Vr},kr[Or]={Type:null,size:0,setter:w,arraySetter:U,bindPoint:zr},kr[Lr]={Type:null,size:0,setter:w,arraySetter:U,bindPoint:Gr},kr[Nr]={Type:null,size:0,setter:w,arraySetter:U,bindPoint:Xr},kr[Dr]={Type:null,size:0,setter:w,arraySetter:U,bindPoint:Vr};var Yr={};Yr[J]={size:4,setter:P},Yr[rr]={size:8,setter:P},Yr[er]={size:12,setter:P},Yr[tr]={size:16,setter:P},Yr[nr]={size:4,setter:B},Yr[ir]={size:8,setter:B},Yr[ar]={size:12,setter:B},Yr[or]={size:16,setter:B},Yr[Ur]={size:4,setter:B},Yr[Pr]={size:8,setter:B},Yr[Br]={size:12,setter:B},Yr[Ir]={size:16,setter:B},Yr[ur]={size:4,setter:B},Yr[fr]={size:8,setter:B},Yr[sr]={size:12,setter:B},Yr[cr]={size:16,setter:B},Yr[lr]={size:4,setter:I,count:2},Yr[pr]={size:9,setter:I,count:3},Yr[mr]={size:16,setter:I,count:4};var Wr=/^[ \t]*\n/,jr=["VERTEX_SHADER","FRAGMENT_SHADER"],Hr=/\[\d+\]\.$/;return{createAttributeSetters:j,createProgram:C,createProgramFromScripts:L,createProgramFromSources:N,createProgramInfo:Z,createProgramInfoFromProgram:q,createUniformSetters:D,createUniformBlockSpecFromProgram:z,createUniformBlockInfoFromProgram:X,createUniformBlockInfo:G,setAttributes:H,setBuffersAndAttributes:K,setUniforms:W,setUniformBlock:k,setBlockUniforms:Y,bindUniformBlock:V}}.apply(e,n),!(void 0!==i&&(r.exports=i))},function(r,e,t){var n,i;n=[t(8),t(4)],i=function(r,e){"use strict";function t(r){return x[r]}function n(r){return R[r]}function i(i,a,o,u){var f=i.FRAMEBUFFER,s=i.createFramebuffer();i.bindFramebuffer(f,s),o=o||i.drawingBufferWidth,u=u||i.drawingBufferHeight,a=a||_;var c=0,l={framebuffer:s,attachments:[],width:o,height:u};return a.forEach(function(a){var s=a.attachment,p=a.format,m=t(p);if(m||(m=E+c++),!s)if(n(p))s=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,s),i.renderbufferStorage(i.RENDERBUFFER,p,o,u);else{var v=e.shallowCopy(a);v.width=o,v.height=u,void 0===v.auto&&(v.auto=!1,v.min=v.min||i.LINEAR,v.mag=v.mag||i.LINEAR,v.wrapS=v.wrapS||v.wrap||i.CLAMP_TO_EDGE,v.wrapT=v.wrapT||v.wrap||i.CLAMP_TO_EDGE),s=r.createTexture(i,v)}if(s instanceof WebGLRenderbuffer)i.framebufferRenderbuffer(f,m,i.RENDERBUFFER,s);else{if(!(s instanceof WebGLTexture))throw"unknown attachment type";i.framebufferTexture2D(f,m,a.texTarget||i.TEXTURE_2D,s,a.level||0)}l.attachments.push(s)}),l}function a(e,t,n,i,a){i=i||e.drawingBufferWidth,a=a||e.drawingBufferHeight,t.width=i,t.height=a,n=n||_,n.forEach(function(n,o){var u=t.attachments[o],f=n.format;if(u instanceof WebGLRenderbuffer)e.bindRenderbuffer(e.RENDERBUFFER,u),e.renderbufferStorage(e.RENDERBUFFER,f,i,a);else{if(!(u instanceof WebGLTexture))throw"unknown attachment type";r.resizeTexture(e,u,n,i,a)}})}function o(r,e,t){t=t||r.FRAMEBUFFER,e?(r.bindFramebuffer(t,e.framebuffer),r.viewport(0,0,e.width,e.height)):(r.bindFramebuffer(t,null),r.viewport(0,0,r.drawingBufferWidth,r.drawingBufferHeight))}var u=5121,f=6402,s=6408,c=32854,l=32855,p=36194,m=33189,v=6401,d=36168,y=34041,E=36064,h=36096,A=36128,T=33306,b=33071,g=9729,_=[{format:s,type:u,min:g,wrap:b},{format:y}],x={};x[y]=T,x[v]=A,x[d]=A,x[f]=h,x[m]=h;var R={};return R[c]=!0,R[l]=!0,R[p]=!0,R[y]=!0,R[m]=!0,R[v]=!0,R[d]=!0,{bindFramebufferInfo:o,createFramebufferInfo:i,resizeFramebufferInfo:a}}.apply(e,n),!(void 0!==i&&(r.exports=i))},function(r,e,t){var n,i;n=[t(3),t(4)],i=function(r,e){"use strict";function t(r){w.textureColor=new Uint8Array([255*r[0],255*r[1],255*r[2],255*r[3]])}function n(r){e.copyExistingProperties(r,w),r.textureColor&&t(r.textureColor)}function i(r,e){void 0!==e.colorspaceConversion&&(C.colorspaceConversion=r.getParameter(r.UNPACK_COLORSPACE_CONVERSION_WEBGL),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.colorspaceConversion)),void 0!==e.premultiplyAlpha&&(C.premultiplyAlpha=r.getParameter(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha)),void 0!==e.flipY&&(C.flipY=r.getParameter(r.UNPACK_FLIP_Y_WEBGL),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,e.flipY))}function a(r,e){void 0!==e.colorspaceConversion&&r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,C.colorspaceConversion),void 0!==e.premultiplyAlpha&&r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,C.premultiplyAlpha),void 0!==e.flipY&&r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,C.flipY)}function o(r,e,t){var n=t.target||r.TEXTURE_2D;r.bindTexture(n,e),t.min&&r.texParameteri(n,r.TEXTURE_MIN_FILTER,t.min),t.mag&&r.texParameteri(n,r.TEXTURE_MAG_FILTER,t.mag),t.wrap&&(r.texParameteri(n,r.TEXTURE_WRAP_S,t.wrap),r.texParameteri(n,r.TEXTURE_WRAP_T,t.wrap),n===r.TEXTURE_3D&&r.texParameteri(n,r.TEXTURE_WRAP_R,t.wrap)),t.wrapR&&r.texParameteri(n,r.TEXTURE_WRAP_R,t.wrapR),t.wrapS&&r.texParameteri(n,r.TEXTURE_WRAP_S,t.wrapS),t.wrapT&&r.texParameteri(n,r.TEXTURE_WRAP_T,t.wrapT),t.minLod&&r.texParameteri(n,r.TEXTURE_MIN_LOD,t.minLod),t.maxLod&&r.texParameteri(n,r.TEXTURE_MAX_LOD,t.maxLod),t.baseLevel&&r.texParameteri(n,r.TEXTURE_BASE_LEVEL,t.baseLevel),t.maxLevel&&r.texParameteri(n,r.TEXTURE_MAX_LEVEL,t.maxLevel)}function u(r){return r=r||w.textureColor,U(r)?r:new Uint8Array([255*r[0],255*r[1],255*r[2],255*r[3]])}function f(r){return 0===(r&r-1)}function s(r,e,t,n,i){t=t||w.textureOptions;var a=t.target||r.TEXTURE_2D;n=n||t.width,i=i||t.height,r.bindTexture(a,e),f(n)&&f(i)?r.generateMipmap(a):(r.texParameteri(a,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(a,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(a,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE))}function c(r,e){return e=e||{},e.cubeFaceOrder||[r.TEXTURE_CUBE_MAP_POSITIVE_X,r.TEXTURE_CUBE_MAP_NEGATIVE_X,r.TEXTURE_CUBE_MAP_POSITIVE_Y,r.TEXTURE_CUBE_MAP_NEGATIVE_Y,r.TEXTURE_CUBE_MAP_POSITIVE_Z,r.TEXTURE_CUBE_MAP_NEGATIVE_Z]}function l(r,e){var t=c(r,e),n=t.map(function(r,e){return{face:r,ndx:e}});return n.sort(function(r,e){return r.face-e.face}),n}function p(){}function m(r,t,n){function i(){u.removeEventListener("error",a),u.removeEventListener("load",o),u=null}function a(){var t="couldn't load image: "+r;e.error(t),n(t,u),i()}function o(){n(null,u),i()}n=n||p;var u=new Image;return t=void 0!==t?t:w.crossOrigin,void 0!==t&&(u.crossOrigin=t),u.addEventListener("error",a),u.addEventListener("load",o),u.src=r,u}function v(r,e,t){t=t||w.textureOptions;var n=t.target||r.TEXTURE_2D;if(r.bindTexture(n,e),t.color!==!1){var i=u(t.color);if(n===r.TEXTURE_CUBE_MAP)for(var a=0;a<6;++a)r.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+a,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,i);else n===r.TEXTURE_3D?r.texImage3D(n,0,r.RGBA,1,1,1,0,r.RGBA,r.UNSIGNED_BYTE,i):r.texImage2D(n,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,i)}}function d(r,t,n,i){i=i||p,n=n||w.textureOptions,v(r,t,n),n=e.shallowCopy(n);var a=m(n.src,n.crossOrigin,function(e,a){e?i(e,t,a):(O(r,t,a,n),i(null,t,a))});return a}function y(r,t,n,o){function u(e){return function(u,f){--E,u?h.push(u):f.width!==f.height?h.push("cubemap face img is not a square: "+f.src):(i(r,n),r.bindTexture(d,t),5===E?c(r).forEach(function(e){r.texImage2D(e,0,s,s,l,f)}):r.texImage2D(e,0,s,s,l,f),a(r,n),r.generateMipmap(d)),0===E&&o(h.length?h:void 0,y,t)}}o=o||p;var f=n.src;if(6!==f.length)throw"there must be 6 urls for a cubemap";var s=n.format||r.RGBA,l=n.type||r.UNSIGNED_BYTE,d=n.target||r.TEXTURE_2D;if(d!==r.TEXTURE_CUBE_MAP)throw"target must be TEXTURE_CUBE_MAP";v(r,t,n),n=e.shallowCopy(n);var y,E=6,h=[],A=c(r,n);y=f.map(function(r,e){return m(r,n.crossOrigin,u(A[e]))})}function E(r){switch(r){case P:case F:return 1;case S:return 2;case B:return 3;case I:return 4;default:throw"unknown type: "+r}}function h(e,t){return U(t)?r.getGLTypeForTypedArray(t):e.UNSIGNED_BYTE}function A(r,e,t,n,i){if(i%1!==0)throw"can't guess dimensions";if(t||n){if(n){if(!t&&(t=i/n,t%1))throw"can't guess dimensions"}else if(n=i/t,n%1)throw"can't guess dimensions"}else{var a=Math.sqrt(i/(e===r.TEXTURE_CUBE_MAP?6:1));a%1===0?(t=a,n=a):(t=i,n=1)}return{width:t,height:n}}function T(e,t,n,o){o=o||w.textureOptions;var u=o.target||e.TEXTURE_2D;e.bindTexture(u,t);var f=o.width,s=o.height,c=o.depth,p=o.format||e.RGBA,m=o.internalFormat||p,v=o.type||h(e,n),d=E(p),y=n.length/d;if(y%1)throw"length wrong size for format: "+M(e,p);var T;if(u===e.TEXTURE_3D)if(f||s||c)!f||s&&c?!s||f&&c?(T=A(e,u,f,s,y/c),f=T.width,s=T.height):(T=A(e,u,f,c,y/s),f=T.width,c=T.height):(T=A(e,u,s,c,y/f),s=T.width,c=T.height);else{var b=Math.cbrt(y);if(b%1!==0)throw"can't guess cube size of array of numElements: "+y;f=b,s=b,c=b}else T=A(e,u,f,s,y),f=T.width,s=T.height;if(U(n))n instanceof Uint8ClampedArray&&(n=new Uint8Array(n.buffer));else{var g=r.getTypedArrayTypeForGLType(v);n=new g(n)}if(e.pixelStorei(e.UNPACK_ALIGNMENT,o.unpackAlignment||1),i(e,o),u===e.TEXTURE_CUBE_MAP){var _=y/6*d;l(e,o).forEach(function(r){var t=_*r.ndx,i=n.subarray(t,t+_);e.texImage2D(r.face,0,m,f,s,0,p,v,i)})}else u===e.TEXTURE_3D?e.texImage3D(u,0,m,f,s,c,0,p,v,n):e.texImage2D(u,0,m,f,s,0,p,v,n);return a(e,o),{width:f,height:s,depth:c}}function b(r,e,t){var n=t.target||r.TEXTURE_2D;r.bindTexture(n,e);var o=t.format||r.RGBA,u=t.internalFormat||o,f=t.type||r.UNSIGNED_BYTE;if(i(r,t),n===r.TEXTURE_CUBE_MAP)for(var s=0;s<6;++s)r.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,u,t.width,t.height,0,o,f,null);else n===r.TEXTURE_3D?r.texImage3D(n,0,u,t.width,t.height,t.depth,0,o,f,null):r.texImage2D(n,0,u,t.width,t.height,0,o,f,null);a(r,t)}function g(r,e,t){t=t||p,e=e||w.textureOptions;var n=r.createTexture(),i=e.target||r.TEXTURE_2D,a=e.width||1,u=e.height||1;r.bindTexture(i,n),i===r.TEXTURE_CUBE_MAP&&(r.texParameteri(i,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(i,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE));var f=e.src;if(f)if("function"==typeof f&&(f=f(r,e)),"string"==typeof f)d(r,n,e,t);else if(U(f)||Array.isArray(f)&&("number"==typeof f[0]||Array.isArray(f[0])||U(f[0]))){var c=T(r,n,f,e);a=c.width,u=c.height}else if(Array.isArray(f)&&"string"==typeof f[0])y(r,n,e,t);else{if(!(f instanceof HTMLElement))throw"unsupported src type";O(r,n,f,e),a=f.width,u=f.height}else b(r,n,e);return e.auto!==!1&&s(r,n,e,a,u),o(r,n,e),n}function _(r,e,t,n,i){n=n||t.width,i=i||t.height;var a=t.target||r.TEXTURE_2D;r.bindTexture(a,e);var o,u=t.format||r.RGBA,f=t.src;if(o=f&&(U(f)||Array.isArray(f)&&"number"==typeof f[0])?t.type||h(r,f):t.type||r.UNSIGNED_BYTE,a===r.TEXTURE_CUBE_MAP)for(var s=0;s<6;++s)r.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,u,n,i,0,u,o,null);else r.texImage2D(a,0,u,n,i,0,u,o,null)}function x(r){return"string"==typeof r||Array.isArray(r)&&"string"==typeof r[0]}function R(r,e,t){function n(){0===i&&setTimeout(function(){t(a.length?a:void 0,o,u)},0)}t=t||p;var i=0,a=[],o={},u={};return Object.keys(e).forEach(function(t){var f,s=e[t];x(s.src)&&(f=function(r,e,o){u[t]=o,--i,r&&a.push(r),n()},++i),o[t]=g(r,s,f)}),n(),o}var w={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},U=r.isArrayBuffer,P=6406,B=6407,I=6408,F=6409,S=6410,M=function(){function r(r){e||(e={},Object.keys(r).forEach(function(t){"number"==typeof r[t]&&(e[r[t]]=t)}))}var e;return function(t,n){return r(),e[n]||"0x"+n.toString(16)}}(),C={},O=function(){var r=document.createElement("canvas").getContext("2d");return function(e,t,n,u){u=u||w.textureOptions;var f=u.target||e.TEXTURE_2D,c=n.width,p=n.height,m=u.format||e.RGBA,v=u.internalFormat||m,d=u.type||e.UNSIGNED_BYTE;if(i(e,u),e.bindTexture(f,t),f===e.TEXTURE_CUBE_MAP){var y,E,h=n.width,A=n.height;if(h/6===A)y=A,E=[0,0,1,0,2,0,3,0,4,0,5,0];else if(A/6===h)y=h,E=[0,0,0,1,0,2,0,3,0,4,0,5];else if(h/3===A/2)y=h/3,E=[0,0,1,0,2,0,0,1,1,1,2,1];else{if(h/2!==A/3)throw"can't figure out cube map from element: "+(n.src?n.src:n.nodeName);y=h/2,E=[0,0,1,0,0,1,1,1,0,2,1,2]}r.canvas.width=y,r.canvas.height=y,c=y,p=y,l(e,u).forEach(function(t){var i=E[2*t.ndx+0]*y,a=E[2*t.ndx+1]*y;r.drawImage(n,i,a,y,y,0,0,y,y),e.texImage2D(t.face,0,v,m,d,r.canvas)}),r.canvas.width=1,r.canvas.height=1}else if(f===e.TEXTURE_3D){var T=Math.min(n.width,n.height),b=Math.max(n.width,n.height),g=b/T;if(g%1!==0)throw"can not compute 3D dimensions of element";var _=n.width===b?1:0,x=n.height===b?1:0;e.texImage3D(f,0,v,T,T,T,0,m,d,null),r.canvas.width=T,r.canvas.height=T;for(var R=0;R<g;++R){var U=R*T*_,P=R*T*x,B=T,I=T,F=0,S=0,M=T,C=T;r.drawImage(n,U,P,B,I,F,S,M,C),e.texSubImage3D(f,0,0,0,R,m,d,r.canvas)}r.canvas.width=0,r.canvas.height=0}else e.texImage2D(f,0,v,m,d,n);a(e,u),u.auto!==!1&&s(e,t,u,c,p),o(e,t,u)}}();return{setDefaults_:n,createTexture:g,setEmptyTexture:b,setTextureFromArray:T,loadTextureFromUrl:d,setTextureFromElement:O,setTextureFilteringForSize:s,setTextureParameters:o,setDefaultTextureColor:t,createTextures:R,resizeTexture:_,getNumComponentsForFormat:E}}.apply(e,n),!(void 0!==i&&(r.exports=i))},function(r,e,t){var n,i;n=[t(6)],i=function(r){"use strict";function e(e,t,n){var i=e.createVertexArray();return e.bindVertexArray(i),t.length||(t=[t]),t.forEach(function(t){r.setBuffersAndAttributes(e,t,n)}),e.bindVertexArray(null),{numElements:n.numElements,elementType:n.elementType,vertexArrayObject:i}}function t(e,t,n,i){var a=e.createVertexArray();return e.bindVertexArray(a),r.setAttributes(t,n),i&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,i),e.bindVertexArray(null),a}function n(r,e,n){return t(r,e.attribSetters||e,n.attribs,n.indices)}return{createVertexArrayInfo:e,createVAOAndSetAttributes:t,createVAOFromBufferInfo:n}}.apply(e,n),!(void 0!==i&&(r.exports=i))},function(r,e,t){var n,i;n=[t(11)],i=function(r){"use strict";function e(r){var e=F;return F=r,e}function t(r,e){return e=e||new F(16),e[0]=-r[0],e[1]=-r[1],e[2]=-r[2],e[3]=-r[3],e[4]=-r[4],e[5]=-r[5],e[6]=-r[6],e[7]=-r[7],e[8]=-r[8],e[9]=-r[9],e[10]=-r[10],e[11]=-r[11],e[12]=-r[12],e[13]=-r[13],e[14]=-r[14],e[15]=-r[15],e}function n(r,e){return e=e||new F(16),e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],e}function i(r){return r=r||new F(16),r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function a(r,e){if(e=e||new F(16),e===r){var t;return t=r[1],r[1]=r[4],r[4]=t,t=r[2],r[2]=r[8],r[8]=t,t=r[3],r[3]=r[12],r[12]=t,t=r[6],r[6]=r[9],r[9]=t,t=r[7],r[7]=r[13],r[13]=t,t=r[11],r[11]=r[14],r[14]=t,e}var n=r[0],i=r[1],a=r[2],o=r[3],u=r[4],f=r[5],s=r[6],c=r[7],l=r[8],p=r[9],m=r[10],v=r[11],d=r[12],y=r[13],E=r[14],h=r[15];return e[0]=n,e[1]=u,e[2]=l,e[3]=d,e[4]=i,e[5]=f,e[6]=p,e[7]=y,e[8]=a,e[9]=s,e[10]=m,e[11]=E,e[12]=o,e[13]=c,e[14]=v,e[15]=h,e}function o(r,e){e=e||new F(16);var t=r[0],n=r[1],i=r[2],a=r[3],o=r[4],u=r[5],f=r[6],s=r[7],c=r[8],l=r[9],p=r[10],m=r[11],v=r[12],d=r[13],y=r[14],E=r[15],h=p*E,A=y*m,T=f*E,b=y*s,g=f*m,_=p*s,x=i*E,R=y*a,w=i*m,U=p*a,P=i*s,B=f*a,I=c*d,S=v*l,M=o*d,C=v*u,O=o*l,L=c*u,N=t*d,D=v*n,z=t*l,X=c*n,G=t*u,V=o*n,k=h*u+b*l+g*d-(A*u+T*l+_*d),Y=A*n+x*l+U*d-(h*n+R*l+w*d),W=T*n+R*u+P*d-(b*n+x*u+B*d),j=_*n+w*u+B*l-(g*n+U*u+P*l),H=1/(t*k+o*Y+c*W+v*j);
return e[0]=H*k,e[1]=H*Y,e[2]=H*W,e[3]=H*j,e[4]=H*(A*o+T*c+_*v-(h*o+b*c+g*v)),e[5]=H*(h*t+R*c+w*v-(A*t+x*c+U*v)),e[6]=H*(b*t+x*o+B*v-(T*t+R*o+P*v)),e[7]=H*(g*t+U*o+P*c-(_*t+w*o+B*c)),e[8]=H*(I*s+C*m+O*E-(S*s+M*m+L*E)),e[9]=H*(S*a+N*m+X*E-(I*a+D*m+z*E)),e[10]=H*(M*a+D*s+G*E-(C*a+N*s+V*E)),e[11]=H*(L*a+z*s+V*m-(O*a+X*s+G*m)),e[12]=H*(M*p+L*y+S*f-(O*y+I*f+C*p)),e[13]=H*(z*y+I*i+D*p-(N*p+X*y+S*i)),e[14]=H*(N*f+V*y+C*i-(G*y+M*i+D*f)),e[15]=H*(G*p+O*i+X*f-(z*f+V*p+L*i)),e}function u(r,e,t){t=t||new F(16);var n=r[0],i=r[1],a=r[2],o=r[3],u=r[4],f=r[5],s=r[6],c=r[7],l=r[8],p=r[9],m=r[10],v=r[11],d=r[12],y=r[13],E=r[14],h=r[15],A=e[0],T=e[1],b=e[2],g=e[3],_=e[4],x=e[5],R=e[6],w=e[7],U=e[8],P=e[9],B=e[10],I=e[11],S=e[12],M=e[13],C=e[14],O=e[15];return t[0]=n*A+u*T+l*b+d*g,t[1]=i*A+f*T+p*b+y*g,t[2]=a*A+s*T+m*b+E*g,t[3]=o*A+c*T+v*b+h*g,t[4]=n*_+u*x+l*R+d*w,t[5]=i*_+f*x+p*R+y*w,t[6]=a*_+s*x+m*R+E*w,t[7]=o*_+c*x+v*R+h*w,t[8]=n*U+u*P+l*B+d*I,t[9]=i*U+f*P+p*B+y*I,t[10]=a*U+s*P+m*B+E*I,t[11]=o*U+c*P+v*B+h*I,t[12]=n*S+u*M+l*C+d*O,t[13]=i*S+f*M+p*C+y*O,t[14]=a*S+s*M+m*C+E*O,t[15]=o*S+c*M+v*C+h*O,t}function f(r,e,t){return t=t||i(),r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11]),t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function s(e,t){return t=t||r.create(),t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function c(e,t,n){n=n||r.create();var i=4*t;return n[0]=e[i+0],n[1]=e[i+1],n[2]=e[i+2],n}function l(r,e,t,i){i!==r&&(i=n(r,i));var a=4*t;return i[a+0]=e[0],i[a+1]=e[1],i[a+2]=e[2],i}function p(r,e,t,n,i){i=i||new F(16);var a=Math.tan(.5*Math.PI-.5*r),o=1/(t-n);return i[0]=a/e,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=a,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=(t+n)*o,i[11]=-1,i[12]=0,i[13]=0,i[14]=t*n*o*2,i[15]=0,i}function m(r,e,t,n,i,a,o){return o=o||new F(16),o[0]=2/(e-r),o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2/(n-t),o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=-1/(a-i),o[11]=0,o[12]=(e+r)/(r-e),o[13]=(n+t)/(t-n),o[14]=-i/(i-a),o[15]=1,o}function v(r,e,t,n,i,a,o){o=o||new F(16);var u=e-r,f=n-t,s=i-a;return o[0]=2*i/u,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2*i/f,o[6]=0,o[7]=0,o[8]=(r+e)/u,o[9]=(n+t)/f,o[10]=a/s,o[11]=-1,o[12]=0,o[13]=0,o[14]=i*a/s,o[15]=0,o}function d(e,t,n,i){i=i||new F(16);var a=S,o=M,u=C;return r.normalize(r.subtract(e,t,u),u),r.normalize(r.cross(n,u,a),a),r.normalize(r.cross(u,a,o),o),i[0]=a[0],i[1]=a[1],i[2]=a[2],i[3]=0,i[4]=o[0],i[5]=o[1],i[6]=o[2],i[7]=0,i[8]=u[0],i[9]=u[1],i[10]=u[2],i[11]=0,i[12]=e[0],i[13]=e[1],i[14]=e[2],i[15]=1,i}function y(r,e){return e=e||new F(16),e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function E(r,e,t){t=t||new F(16);var n=e[0],i=e[1],a=e[2],o=r[0],u=r[1],f=r[2],s=r[3],c=r[4],l=r[5],p=r[6],m=r[7],v=r[8],d=r[9],y=r[10],E=r[11],h=r[12],A=r[13],T=r[14],b=r[15];return r!==t&&(t[0]=o,t[1]=u,t[2]=f,t[3]=s,t[4]=c,t[5]=l,t[6]=p,t[7]=m,t[8]=v,t[9]=d,t[10]=y,t[11]=E),t[12]=o*n+c*i+v*a+h,t[13]=u*n+l*i+d*a+A,t[14]=f*n+p*i+y*a+T,t[15]=s*n+m*i+E*a+b,t}function h(r,e){e=e||new F(16);var t=Math.cos(r),n=Math.sin(r);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=t,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function A(r,e,t){t=t||new F(16);var n=r[4],i=r[5],a=r[6],o=r[7],u=r[8],f=r[9],s=r[10],c=r[11],l=Math.cos(e),p=Math.sin(e);return t[4]=l*n+p*u,t[5]=l*i+p*f,t[6]=l*a+p*s,t[7]=l*o+p*c,t[8]=l*u-p*n,t[9]=l*f-p*i,t[10]=l*s-p*a,t[11]=l*c-p*o,r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t}function T(r,e){e=e||new F(16);var t=Math.cos(r),n=Math.sin(r);return e[0]=t,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=t,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function b(r,e,t){t=t||new F(16);var n=r[0],i=r[1],a=r[2],o=r[3],u=r[8],f=r[9],s=r[10],c=r[11],l=Math.cos(e),p=Math.sin(e);return t[0]=l*n-p*u,t[1]=l*i-p*f,t[2]=l*a-p*s,t[3]=l*o-p*c,t[8]=l*u+p*n,t[9]=l*f+p*i,t[10]=l*s+p*a,t[11]=l*c+p*o,r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t}function g(r,e){e=e||new F(16);var t=Math.cos(r),n=Math.sin(r);return e[0]=t,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=t,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function _(r,e,t){t=t||new F(16);var n=r[0],i=r[1],a=r[2],o=r[3],u=r[4],f=r[5],s=r[6],c=r[7],l=Math.cos(e),p=Math.sin(e);return t[0]=l*n+p*u,t[1]=l*i+p*f,t[2]=l*a+p*s,t[3]=l*o+p*c,t[4]=l*u-p*n,t[5]=l*f-p*i,t[6]=l*s-p*a,t[7]=l*c-p*o,r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t}function x(r,e,t){t=t||new F(16);var n=r[0],i=r[1],a=r[2],o=Math.sqrt(n*n+i*i+a*a);n/=o,i/=o,a/=o;var u=n*n,f=i*i,s=a*a,c=Math.cos(e),l=Math.sin(e),p=1-c;return t[0]=u+(1-u)*c,t[1]=n*i*p+a*l,t[2]=n*a*p-i*l,t[3]=0,t[4]=n*i*p-a*l,t[5]=f+(1-f)*c,t[6]=i*a*p+n*l,t[7]=0,t[8]=n*a*p+i*l,t[9]=i*a*p-n*l,t[10]=s+(1-s)*c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function R(r,e,t,n){n=n||new F(16);var i=e[0],a=e[1],o=e[2],u=Math.sqrt(i*i+a*a+o*o);i/=u,a/=u,o/=u;var f=i*i,s=a*a,c=o*o,l=Math.cos(t),p=Math.sin(t),m=1-l,v=f+(1-f)*l,d=i*a*m+o*p,y=i*o*m-a*p,E=i*a*m-o*p,h=s+(1-s)*l,A=a*o*m+i*p,T=i*o*m+a*p,b=a*o*m-i*p,g=c+(1-c)*l,_=r[0],x=r[1],R=r[2],w=r[3],U=r[4],P=r[5],B=r[6],I=r[7],S=r[8],M=r[9],C=r[10],O=r[11];return n[0]=v*_+d*U+y*S,n[1]=v*x+d*P+y*M,n[2]=v*R+d*B+y*C,n[3]=v*w+d*I+y*O,n[4]=E*_+h*U+A*S,n[5]=E*x+h*P+A*M,n[6]=E*R+h*B+A*C,n[7]=E*w+h*I+A*O,n[8]=T*_+b*U+g*S,n[9]=T*x+b*P+g*M,n[10]=T*R+b*B+g*C,n[11]=T*w+b*I+g*O,r!==n&&(n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15]),n}function w(r,e){return e=e||new F(16),e[0]=r[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=r[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function U(r,e,t){t=t||new F(16);var n=e[0],i=e[1],a=e[2];return t[0]=n*r[0],t[1]=n*r[1],t[2]=n*r[2],t[3]=n*r[3],t[4]=i*r[4],t[5]=i*r[5],t[6]=i*r[6],t[7]=i*r[7],t[8]=a*r[8],t[9]=a*r[9],t[10]=a*r[10],t[11]=a*r[11],r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t}function P(e,t,n){n=n||r.create();var i=t[0],a=t[1],o=t[2],u=i*e[3]+a*e[7]+o*e[11]+e[15];return n[0]=(i*e[0]+a*e[4]+o*e[8]+e[12])/u,n[1]=(i*e[1]+a*e[5]+o*e[9]+e[13])/u,n[2]=(i*e[2]+a*e[6]+o*e[10]+e[14])/u,n}function B(e,t,n){n=n||r.create();var i=t[0],a=t[1],o=t[2];return n[0]=i*e[0]+a*e[4]+o*e[8],n[1]=i*e[1]+a*e[5]+o*e[9],n[2]=i*e[2]+a*e[6]+o*e[10],n}function I(e,t,n){n=n||r.create();var i=o(e),a=t[0],u=t[1],f=t[2];return n[0]=a*i[0]+u*i[1]+f*i[2],n[1]=a*i[4]+u*i[5]+f*i[6],n[2]=a*i[8]+u*i[9]+f*i[10],n}var F=Float32Array,S=r.create(),M=r.create(),C=r.create();return{axisRotate:R,axisRotation:x,create:i,copy:n,frustum:v,getAxis:c,getTranslation:s,identity:i,inverse:o,lookAt:d,multiply:u,negate:t,ortho:m,perspective:p,rotateX:A,rotateY:b,rotateZ:_,rotateAxis:R,rotationX:h,rotationY:T,rotationZ:g,scale:U,scaling:w,setAxis:l,setDefaultType:e,setTranslation:f,transformDirection:B,transformNormal:I,transformPoint:P,translate:E,translation:y,transpose:a}}.apply(e,n),!(void 0!==i&&(r.exports=i))},function(r,e,t){var n,i;n=[],i=function(){"use strict";function r(r){var e=y;return y=r,e}function e(r,e,t){var n=new y(3);return r&&(n[0]=r),e&&(n[1]=e),t&&(n[2]=t),n}function t(r,e,t){return t=t||new y(3),t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t}function n(r,e,t){return t=t||new y(3),t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t}function i(r,e,t,n){return n=n||new y(3),n[0]=(1-t)*r[0]+t*e[0],n[1]=(1-t)*r[1]+t*e[1],n[2]=(1-t)*r[2]+t*e[2],n}function a(r,e,t){return t=t||new y(3),t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t}function o(r,e,t){return t=t||new y(3),t[0]=r[0]/e,t[1]=r[1]/e,t[2]=r[2]/e,t}function u(r,e,t){return t=t||new y(3),t[0]=r[1]*e[2]-r[2]*e[1],t[1]=r[2]*e[0]-r[0]*e[2],t[2]=r[0]*e[1]-r[1]*e[0],t}function f(r,e){return r[0]*e[0]+r[1]*e[1]+r[2]*e[2]}function s(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2])}function c(r){return r[0]*r[0]+r[1]*r[1]+r[2]*r[2]}function l(r,e){e=e||new y(3);var t=r[0]*r[0]+r[1]*r[1]+r[2]*r[2],n=Math.sqrt(t);return n>1e-5?(e[0]=r[0]/n,e[1]=r[1]/n,e[2]=r[2]/n):(e[0]=0,e[1]=0,e[2]=0),e}function p(r,e){return e=e||new y(3),e[0]=-r[0],e[1]=-r[1],e[2]=-r[2],e}function m(r,e){return e=e||new y(3),e[0]=r[0],e[1]=r[1],e[2]=r[2],e}function v(r,e,t){return t=t||new y(3),t[0]=r[0]*e[0],t[1]=r[1]*e[1],t[2]=r[2]*e[2],t}function d(r,e,t){return t=t||new y(3),t[0]=r[0]/e[0],t[1]=r[1]/e[1],t[2]=r[2]/e[2],t}var y=Float32Array;return{add:t,copy:m,create:e,cross:u,divide:d,divScalar:o,dot:f,lerp:i,length:s,lengthSq:c,mulScalar:a,multiply:v,negate:p,normalize:l,setDefaultType:r,subtract:n}}.apply(e,n),!(void 0!==i&&(r.exports=i))},function(r,e,t){var n,i;n=[t(2),t(4),t(10),t(11)],i=function(r,e,t,n){"use strict";function i(r,e){var t=0;return r.push=function(){for(var e=0;e<arguments.length;++e){var n=arguments[e];if(n instanceof Array||n.buffer&&n.buffer instanceof ArrayBuffer)for(var i=0;i<n.length;++i)r[t++]=n[i];else r[t++]=n}},r.reset=function(r){t=r||0},r.numComponents=e,Object.defineProperty(r,"numElements",{get:function(){return this.length/this.numComponents|0}}),r}function a(r,e,t){var n=t||Float32Array;return i(new n(r*e),r)}function o(r){return"indices"!==r}function u(r){function e(e){for(var o=r[e],u=o.numComponents,f=a(u,i,o.constructor),s=0;s<i;++s)for(var c=t[s],l=c*u,p=0;p<u;++p)f.push(o[l+p]);n[e]=f}var t=r.indices,n={},i=t.length;return Object.keys(r).filter(o).forEach(e),n}function f(r){if(r.indices)throw"can't flatten normals of indexed vertices. deindex them first";for(var e=r.normal,t=e.length,n=0;n<t;n+=9){var i=e[n+0],a=e[n+1],o=e[n+2],u=e[n+3],f=e[n+4],s=e[n+5],c=e[n+6],l=e[n+7],p=e[n+8],m=i+u+c,v=a+f+l,d=o+s+p,y=Math.sqrt(m*m+v*v+d*d);m/=y,v/=y,d/=y,e[n+0]=m,e[n+1]=v,e[n+2]=d,e[n+3]=m,e[n+4]=v,e[n+5]=d,e[n+6]=m,e[n+7]=v,e[n+8]=d}return r}function s(r,e,t){for(var n=r.length,i=new Float32Array(3),a=0;a<n;a+=3)t(e,[r[a],r[a+1],r[a+2]],i),r[a]=i[0],r[a+1]=i[1],r[a+2]=i[2]}function c(r,e,t){t=t||n.create();var i=e[0],a=e[1],o=e[2];return t[0]=i*r[0]+a*r[1]+o*r[2],t[1]=i*r[4]+a*r[5]+o*r[6],t[2]=i*r[8]+a*r[9]+o*r[10],t}function l(r,e){return s(r,e,t.transformDirection),r}function p(r,e){return s(r,t.inverse(e),c),r}function m(r,e){return s(r,e,t.transformPoint),r}function v(r,e){return Object.keys(r).forEach(function(t){var n=r[t];t.indexOf("pos")>=0?m(n,e):t.indexOf("tan")>=0||t.indexOf("binorm")>=0?l(n,e):t.indexOf("norm")>=0&&p(n,e)}),r}function d(r,e,t){return r=r||2,e=e||0,t=t||0,r*=.5,{position:{numComponents:2,data:[e+-1*r,t+-1*r,e+1*r,t+-1*r,e+-1*r,t+1*r,e+1*r,t+1*r]},normal:[0,0,1,0,0,1,0,0,1,0,0,1],texcoord:[0,0,1,0,0,1,1,1],indices:[0,1,2,2,1,3]}}function y(r,e,n,i,o){r=r||1,e=e||1,n=n||1,i=i||1,o=o||t.identity();for(var u=(n+1)*(i+1),f=a(3,u),s=a(3,u),c=a(2,u),l=0;l<=i;l++)for(var p=0;p<=n;p++){var m=p/n,d=l/i;f.push(r*m-.5*r,0,e*d-.5*e),s.push(0,1,0),c.push(m,d)}for(var y=n+1,E=a(3,n*i*2,Uint16Array),l=0;l<i;l++)for(var p=0;p<n;p++)E.push((l+0)*y+p,(l+1)*y+p,(l+0)*y+p+1),E.push((l+1)*y+p,(l+1)*y+p+1,(l+0)*y+p+1);var h=v({position:f,normal:s,texcoord:c,indices:E},o);return h}function E(r,e,t,n,i,o,u){if(e<=0||t<=0)throw Error("subdivisionAxis and subdivisionHeight must be > 0");n=n||0,i=i||Math.PI,o=o||0,u=u||2*Math.PI;for(var f=i-n,s=u-o,c=(e+1)*(t+1),l=a(3,c),p=a(3,c),m=a(2,c),v=0;v<=t;v++)for(var d=0;d<=e;d++){var y=d/e,E=v/t,h=s*y,A=f*E,T=Math.sin(h),b=Math.cos(h),g=Math.sin(A),_=Math.cos(A),x=b*g,R=_,w=T*g;l.push(r*x,r*R,r*w),p.push(x,R,w),m.push(1-y,E)}for(var U=e+1,P=a(3,e*t*2,Uint16Array),d=0;d<e;d++)for(var v=0;v<t;v++)P.push((v+0)*U+d,(v+0)*U+d+1,(v+1)*U+d),P.push((v+1)*U+d,(v+0)*U+d+1,(v+1)*U+d+1);return{position:l,normal:p,texcoord:m,indices:P}}function h(r){r=r||1;for(var e=r/2,t=[[-e,-e,-e],[+e,-e,-e],[-e,+e,-e],[+e,+e,-e],[-e,-e,+e],[+e,-e,+e],[-e,+e,+e],[+e,+e,+e]],n=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],i=[[1,0],[0,0],[0,1],[1,1]],o=24,u=a(3,o),f=a(3,o),s=a(2,o),c=a(3,12,Uint16Array),l=0;l<6;++l){for(var p=L[l],m=0;m<4;++m){var v=t[p[m]],d=n[l],y=i[m];u.push(v),f.push(d),s.push(y)}var E=4*l;c.push(E+0,E+1,E+2),c.push(E+0,E+2,E+3)}return{position:u,normal:f,texcoord:s,indices:c}}function A(r,e,t,n,i,o,u){if(n<3)throw Error("radialSubdivisions must be 3 or greater");if(i<1)throw Error("verticalSubdivisions must be 1 or greater");for(var f=void 0===o||o,s=void 0===u||u,c=(f?2:0)+(s?2:0),l=(n+1)*(i+1+c),p=a(3,l),m=a(3,l),v=a(2,l),d=a(3,n*(i+c)*2,Uint16Array),y=n+1,E=Math.atan2(r-e,t),h=Math.cos(E),A=Math.sin(E),T=f?-2:0,b=i+(s?2:0),g=T;g<=b;++g){var _,x=g/i,R=t*x;g<0?(R=0,x=1,_=r):g>i?(R=t,x=1,_=e):_=r+(e-r)*(g/i),g!==-2&&g!==i+2||(_=0,x=0),R-=t/2;for(var w=0;w<y;++w){var U=Math.sin(w*Math.PI*2/n),P=Math.cos(w*Math.PI*2/n);p.push(U*_,R,P*_),m.push(g<0||g>i?0:U*h,g<0?-1:g>i?1:A,g<0||g>i?0:P*h),v.push(w/n,1-x)}}for(var g=0;g<i+c;++g)for(var w=0;w<n;++w)d.push(y*(g+0)+0+w,y*(g+0)+1+w,y*(g+1)+1+w),d.push(y*(g+0)+0+w,y*(g+1)+1+w,y*(g+1)+0+w);return{position:p,normal:m,texcoord:v,indices:d}}function T(r,e){e=e||[];for(var t=[],n=0;n<r.length;n+=4){var i=r[n],a=r.slice(n+1,n+4);a.push.apply(a,e);for(var o=0;o<i;++o)t.push.apply(t,a)}return t}function b(){var r=[0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0],e=[.22,.19,.22,.79,.34,.19,.22,.79,.34,.79,.34,.19,.34,.19,.34,.31,.62,.19,.34,.31,.62,.31,.62,.19,.34,.43,.34,.55,.49,.43,.34,.55,.49,.55,.49,.43,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0],t=T([18,0,0,1,18,0,0,-1,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,-1,0,6,-1,0,0]),n=T([18,200,70,120,18,80,70,200,6,70,200,210,6,200,200,70,6,210,100,70,6,210,160,70,6,70,180,210,6,100,70,210,6,76,210,100,6,140,210,80,6,90,130,110,6,160,160,220],[255]),i=r.length/3,o={position:a(3,i),texcoord:a(2,i),normal:a(3,i),color:a(4,i,Uint8Array),indices:a(3,i/3,Uint16Array)};o.position.push(r),o.texcoord.push(e),o.normal.push(t),o.color.push(n);for(var u=0;u<i;++u)o.indices.push(u);return o}function g(r,e,t,i,o,u,f){function s(r,e,t){return r+(e-r)*t}function c(e,t,a,f,c,l){for(var v=0;v<=o;v++){var h=t/(p-1),A=v/o,T=2*(h-.5),b=(u+A*m)*Math.PI,g=Math.sin(b),_=Math.cos(b),x=s(r,e,g),R=T*i,w=_*r,U=g*x;d.push(R,w,U);var P=n.add(n.multiply([0,g,_],a),f);y.push(P),E.push(h*c+l,A)}}function l(r,e){for(var t=0;t<o;++t)T.push(r+t+0,r+t+1,e+t+0),T.push(r+t+1,e+t+1,e+t+0)}if(o<=0)throw Error("subdivisionDown must be > 0");u=u||0,f=f||1;for(var p=2,m=f-u,v=2*(o+1)*(2+p),d=a(3,v),y=a(3,v),E=a(2,v),h=0;h<p;h++){var A=2*(h/(p-1)-.5);c(e,h,[1,1,1],[0,0,0],1,0),c(e,h,[0,0,0],[A,0,0],0,0),c(t,h,[1,1,1],[0,0,0],1,0),c(t,h,[0,0,0],[A,0,0],0,1)}var T=a(3,2*o*(2+p),Uint16Array),b=o+1;return l(0*b,4*b),l(5*b,7*b),l(6*b,2*b),l(3*b,1*b),{position:d,normal:y,texcoord:E,indices:T}}function _(r,e,t,n,i,a){return A(r,r,e,t,n,i,a)}function x(r,e,t,n,i,o){if(t<3)throw Error("radialSubdivisions must be 3 or greater");if(n<3)throw Error("verticalSubdivisions must be 3 or greater");i=i||0,o=o||2*Math.PI;for(var u=o-i,f=t+1,s=n+1,c=f*s,l=a(3,c),p=a(3,c),m=a(2,c),v=a(3,t*n*2,Uint16Array),d=0;d<s;++d)for(var y=d/n,E=y*Math.PI*2,h=Math.sin(E),A=r+h*e,T=Math.cos(E),b=T*e,g=0;g<f;++g){var _=g/t,x=i+_*u,R=Math.sin(x),w=Math.cos(x),U=R*A,P=w*A,B=R*h,I=w*h;l.push(U,b,P),p.push(B,T,I),m.push(_,1-y)}for(var d=0;d<n;++d)for(var g=0;g<t;++g){var F=1+g,S=1+d;v.push(f*d+g,f*S+g,f*d+F),v.push(f*S+g,f*S+F,f*d+F)}return{position:l,normal:p,texcoord:m,indices:v}}function R(r,e,t,n,i){if(e<3)throw Error("divisions must be at least 3");t=t?t:1,i=i?i:1,n=n?n:0;for(var o=(e+1)*(t+1),u=a(3,o),f=a(3,o),s=a(2,o),c=a(3,t*e*2,Uint16Array),l=0,p=r-n,m=e+1,v=0;v<=t;++v){for(var d=n+p*Math.pow(v/t,i),y=0;y<=e;++y){var E=2*Math.PI*y/e,h=d*Math.cos(E),A=d*Math.sin(E);if(u.push(h,0,A),f.push(0,1,0),s.push(1-y/e,v/t),v>0&&y!==e){var T=l+(y+1),b=l+y,g=l+y-m,_=l+(y+1)-m;c.push(T,b,g),c.push(T,g,_)}}l+=e+1}return{position:u,normal:f,texcoord:s,indices:c}}function w(r){return Math.random()*r|0}function U(r,e){e=e||{};var t=r.position.numElements,n=a(4,t,Uint8Array),i=e.rand||function(r,e){return e<3?w(256):255};if(r.color=n,r.indices)for(var o=0;o<t;++o)n.push(i(o,0),i(o,1),i(o,2),i(o,3));else for(var u=e.vertsPerColor||3,f=t/u,o=0;o<f;++o)for(var s=[i(o,0),i(o,1),i(o,2),i(o,3)],c=0;c<u;++c)n.push(s);return r}function P(e){return function(t){var n=e.apply(this,Array.prototype.slice.call(arguments,1));return r.createBuffersFromArrays(t,n)}}function B(e){return function(t){var n=e.apply(null,Array.prototype.slice.call(arguments,1));return r.createBufferInfoFromArrays(t,n)}}function I(r,e,t,n){n=n||0;for(var i=r.length,a=0;a<i;++a)e[t+a]=r[a]+n}function F(r,t){var n=C(r),a=new n.constructor(t),o=a;return n.numComponents&&n.numElements&&i(a,n.numComponents),r.data&&(o={data:a},e.copyNamedProperties(N,r,o)),o}function S(r){function e(e){for(var t,n=0,i=0;i<r.length;++i){var a=r[i],o=a[e],u=C(o);n+=u.length,t&&!o.data||(t=o)}return{length:n,spec:t}}function t(e,t,n){for(var i=0,a=0,o=0;o<r.length;++o){var u=r[o],f=u[e],s=C(f);"indices"===e?(I(s,n,a,i),i+=t[o]):I(s,n,a),a+=s.length}}for(var n,i={},a=0;a<r.length;++a){var o=r[a];Object.keys(o).forEach(function(r){i[r]||(i[r]=[]),n||"indices"===r||(n=r);var e=o[r],t=O(e,r),a=C(e),u=a.length/t;i[r].push(u)})}var u=i[n],f={};return Object.keys(i).forEach(function(r){var n=e(r),i=F(n.spec,n.length);t(r,u,C(i)),f[r]=i}),f}function M(r){var e={};return Object.keys(r).forEach(function(t){var n=r[t],i=C(n),a=F(n,i.length);I(i,C(a),0),e[t]=a}),e}var C=r.getArray_,O=r.getNumComponents_,L=[[3,7,5,1],[6,2,0,4],[6,7,3,2],[0,1,5,4],[7,6,4,5],[2,3,1,0]],N=["numComponents","size","type","normalize","stride","offset","attrib","name","attribName"];return{create3DFBufferInfo:B(b),create3DFBuffers:P(b),create3DFVertices:b,createAugmentedTypedArray:a,createCubeBufferInfo:B(h),createCubeBuffers:P(h),createCubeVertices:h,createPlaneBufferInfo:B(y),createPlaneBuffers:P(y),createPlaneVertices:y,createSphereBufferInfo:B(E),createSphereBuffers:P(E),createSphereVertices:E,createTruncatedConeBufferInfo:B(A),createTruncatedConeBuffers:P(A),createTruncatedConeVertices:A,createXYQuadBufferInfo:B(d),createXYQuadBuffers:P(d),createXYQuadVertices:d,createCresentBufferInfo:B(g),createCresentBuffers:P(g),createCresentVertices:g,createCylinderBufferInfo:B(_),createCylinderBuffers:P(_),createCylinderVertices:_,createTorusBufferInfo:B(x),createTorusBuffers:P(x),createTorusVertices:x,createDiscBufferInfo:B(R),createDiscBuffers:P(R),createDiscVertices:R,deindexVertices:u,flattenNormals:f,makeRandomVertexColors:U,reorientDirections:l,reorientNormals:p,reorientPositions:m,reorientVertices:v,concatVertices:S,duplicateVertices:M}}.apply(e,n),!(void 0!==i&&(r.exports=i))}])});